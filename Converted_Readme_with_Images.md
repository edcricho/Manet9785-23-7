# Project Outcomes

# Deliverables

Two primary deliverables were required from the Project: building and implementation of a Black Hole resistant model for AODV-based networks, and documentation (to a professional standard) describing both the intent of the Project and how the Project was undertaken (including clear descriptions of the Problem Domain).

# Black Hole Resistant Model

Data Ingestion:

The model is developed through the ingestion of a network trace file generated by the Network Simulator 2 (NS2) open-source software. Three trace files we used, with varying degrees of malicious activity present during the simulation. These trace file contains 17 initial header rows corresponding to the specific simulations network topography. The remaining rows, nearly one million in the initial trace file, correspond to the individual network behaviours between each source and destination node.

The trace files, of the file format ‘.tr’ provide the various trace variables in a single column, which requires manipulation to obtain the variables in their corresponding columns. As the trace files do not contain headings or column names, the next step is to conduct a data understanding process which involves analysing the NS2 source code that produces these trace files and cross-referencing the abbreviations of each observation to derive or at least make an educated guess as to what the columns represents.

Data Understanding:

The following data dictionary was created to document and illustrate this data understanding process:

With the variable names known there is now a total of 31 variables which describe the behaviour of 17 unique network nodes. After removing the obvious empty rows, it is noted that many variables contain a vast majority of empty or blank information. Ordinarily, these variables would be discarded, however given the vast volume of data, they are kept for later consideration.

The following extract highlights this observation with each number corresponding to the percentage of missing values.

Exploratory Data Analysis (EDA)

Detecting malicious network nodes, also known as black hole nodes, is the basis of this project. With a comprehensive dataset now established, modelling of the malicious nodes can begin. Black hole nodes falsely advertise themselves as having the shortest route to a destination while dropping all the packets they receive, disrupting the communications in a network. As such, they will exhibit a high reception and no forwarding of packets. This behaviour will be shown through a high number of received packets (event type ‘r’) and a low number of forwarded packets (event type ‘f’). There are many other characterises which also give away a node as being malicious such as a sudden drop in hop count and request status disparity.

The following figure summarises a malicious nodes behaviour:

(Kaur & Singh 2014; Pandey & Singh 2020; Sbai & Elboukhari 2018) <curtis>

Exploratory data analysis was performed to identify the black hole nodes (BHN). The following graphs establish key insights which will be used by the machine learning model to detect malicious nodes. After performing the EDA, we can conclude that the malicious nodes in the network are nodes 12, 13, 14, 15 and 16.

Insight 1) Nodes 12, 13 and 15 show higher activity than normal while nodes 12 to 16 are the only nodes with dropped (d) packets:

Insight 2) Timeseries exploratory data analysis:

Insight 3) Nodes 12 to 16 are observed to often be the source as well as the destination while other nodes are the source but rarely the destination. This indicates that the BHNs are advertising themselves as the ‘correct’ destination and these packets are not being delivered to the other nodes:

Insight 4) Nodes 12 to 16 also show a very low request failure rate unlike most other nodes:

Feature Engineering

The next stage of the data science process is feature engineering, which in this case is imperative. This specific problem cannot be treated in terms of the individual rows. If we look at an individual row in the trace file, no meaningful insight is gained. It is only through analysing the trends for each node and looking at multiple observations for each node that we can then observe the behaviour of a node and make a prediction for whether or not it’s behaviour is malicious and consequently, whether or not it is a black hole node.

In the reality of this problem implementation, we would define a period of time which is enough to collect data to make a good assumption but not too long so that the black hole node can be blocked. Therefore, minimising the amount of data that is lost. Taking action to prevent the BHN from inflicting further damage might be blacklisting a node if its behaviour is deemed to be malicious.

For each variable in the dataset, categorical variables are transposed into various new columns with a count of their values for each category. Numeric variables are then transposed to create additional copies. Finally, the dataset is summarised into ‘sections’, grouped by the source nodes and further grouped into time increments of 15 milliseconds. During this transformation, the previously categorical variables counts are averaged and summary statistics such as min, max, mean, standard deviation and unique count are computed for the numeric variables.

This results into a much smaller dataset. From the 654654 existing observations there are now only 850. With each new observation corresponding to a ‘mini network simulation’. In practice, this process would not occur, and many simulations would be run and summarised to obtain the data points.

Modelling

A compressive list of 121 variables was obtained after feature engineering and a target column created with a value of 1 for nodes 12-16 and 0 for other nodes. A correlation matrix was used to find the best features to detect black hole nodes. 80% of the data was used for training and 20% for testing. Finally, a decision tree model (a common type of machine learning algorithm) was implemented to predict black hole nodes.

Results

The model achieved an accuracy of 96%, capable of detecting black hole nodes on unseen data 96% of the time. With cross validation implemented, the model's accuracy was found to be 95%. A minimal error rate was also achieved with an f1-score of 97%.

# Key Results

Highly accurate machine learning model (95% accuracy)

Low error rate (< 1%)

100+ features identified

Decision tree machine learning model.



![Image0]


![Image0]


![Image0]


![Image0]


![Image0]


![Image0]


![Image0]


![Image0]


![Image0]


![Image0]


![Image0]
